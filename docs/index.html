<!doctype html>
  <html class="theme-light">
  <head>
  <meta charset="utf-8">
  <base href="undefined">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, user-scalable=no">
  <meta name="description" content="microjam for mec2">
  <meta name="date" content="Wed Jul 22 2020 02:00:00 GMT+0200 (Central European Summer Time)">
  <meta name="keywords" content="">
  <title>mec2-Main page</title>
  <link rel="shortcut icon" type="image/png" href="./img/favicon.png">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.18.1/styles/vs2015.min.css">
  
  <link rel="stylesheet" href="./theme/styles.css">
  </head>
  <body id="top">
  <header>
  <a href="./index.html" class="right">mec2</a>
  <a href="./index.html" class="left">Main Page</a>
  <a href="https://github.com/goessner/mec2"">
    <svg height="32" viewBox="0 0 16 16" width="32"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8C0 11.54 2.29 14.53 5.47 15.59C5.87 15.66 6.02 15.42 6.02 15.21C6.02 15.02 6.01 14.39 6.01 13.72C4 14.09 3.48 13.23 3.32 12.78C3.23 12.55 2.84 11.84 2.5 11.65C2.22 11.5 1.82 11.13 2.49 11.12C3.12 11.11 3.57 11.7 3.72 11.94C4.44 13.15 5.59 12.81 6.05 12.6C6.12 12.08 6.33 11.73 6.56 11.53C4.78 11.33 2.92 10.64 2.92 7.58C2.92 6.71 3.23 5.99 3.74 5.43C3.66 5.23 3.38 4.41 3.82 3.31C3.82 3.31 4.49 3.1 6.02 4.13C6.66 3.95 7.34 3.86 8.02 3.86C8.7 3.86 9.38 3.95 10.02 4.13C11.55 3.09 12.22 3.31 12.22 3.31C12.66 4.41 12.38 5.23 12.3 5.43C12.81 5.99 13.12 6.7 13.12 7.58C13.12 10.65 11.25 11.33 9.47 11.53C9.76 11.78 10.01 12.26 10.01 13.01C10.01 14.08 10 14.94 10 15.21C10 15.42 10.15 15.67 10.55 15.59C13.71 14.53 16 11.53 16 8C16 3.58 12.42 0 8 0Z"></path></svg>
  </a>
  </header>
  <main>
    <nav>
      <ul>
<li><a href="getting_started.html">Getting started</a></li>
<li><a href="basic_modules.html">Basic modules</a></li>
<li><a href="loads.html">Loads</a></li>
<li><a href="drive.html">Drive</a></li>
<li><a href="views.html">Views</a></li>
<li><a href="shapes.html">Shapes</a></li>
<li><a href="mec2.element.html">Element</a></li>
</ul>

    </nav>
    <article>
  <h1 id="mec2">mec2 <a class="plnk" href="#mec2">#</a></h1>
<p><em>mec2</em> is a javascript library for simulating and analysing planar mechanisms or linkages. The concept is based on <em>nodes</em> constrained by one of four different vectors. Solving the kinematic equations is done by using Erin Catto's principle of <a href="http://box2d.org/">sequential impulses</a>, often used by gaming physics engines.</p>
<p>Its API is minimal and easy to understand. The library is tiny and fast. Mechanisms are described using an easy to read JSON format.</p>
<h2 id="example">Example <a class="plnk" href="#example">#</a></h2>
<p><img src="./img/4bar.gif" alt="first" class="loading" id="image-hash-1977105835"></p>
<h2 id="json">JSON <a class="plnk" href="#json">#</a></h2>
<pre><code class="code-line language-json"><div>{
    <span class="hljs-attr">"id"</span>:<span class="hljs-string">"4bar"</span>,
    <span class="hljs-attr">"nodes"</span>: [
        { <span class="hljs-attr">"id"</span>:<span class="hljs-string">"A0"</span>,<span class="hljs-attr">"x"</span>:<span class="hljs-number">100</span>,<span class="hljs-attr">"y"</span>:<span class="hljs-number">100</span>,<span class="hljs-attr">"base"</span>:<span class="hljs-literal">true</span> },
        { <span class="hljs-attr">"id"</span>:<span class="hljs-string">"A"</span>, <span class="hljs-attr">"x"</span>:<span class="hljs-number">100</span>,<span class="hljs-attr">"y"</span>:<span class="hljs-number">150</span> },
        { <span class="hljs-attr">"id"</span>:<span class="hljs-string">"B"</span>, <span class="hljs-attr">"x"</span>:<span class="hljs-number">350</span>,<span class="hljs-attr">"y"</span>:<span class="hljs-number">220</span> },
        { <span class="hljs-attr">"id"</span>:<span class="hljs-string">"B0"</span>,<span class="hljs-attr">"x"</span>:<span class="hljs-number">300</span>,<span class="hljs-attr">"y"</span>:<span class="hljs-number">100</span>,<span class="hljs-attr">"base"</span>:<span class="hljs-literal">true</span> }
    ],
    <span class="hljs-attr">"constraints"</span>: [
        { <span class="hljs-attr">"id"</span>:<span class="hljs-string">"a"</span>,<span class="hljs-attr">"p1"</span>:<span class="hljs-string">"A0"</span>,<span class="hljs-attr">"p2"</span>:<span class="hljs-string">"A"</span>,<span class="hljs-attr">"len"</span>:{ <span class="hljs-attr">"type"</span>:<span class="hljs-string">"const"</span> } },
        { <span class="hljs-attr">"id"</span>:<span class="hljs-string">"b"</span>,<span class="hljs-attr">"p1"</span>:<span class="hljs-string">"A"</span>, <span class="hljs-attr">"p2"</span>:<span class="hljs-string">"B"</span>,<span class="hljs-attr">"len"</span>:{ <span class="hljs-attr">"type"</span>:<span class="hljs-string">"const"</span> } },
        { <span class="hljs-attr">"id"</span>:<span class="hljs-string">"c"</span>,<span class="hljs-attr">"p1"</span>:<span class="hljs-string">"B0"</span>,<span class="hljs-attr">"p2"</span>:<span class="hljs-string">"B"</span>,<span class="hljs-attr">"len"</span>:{ <span class="hljs-attr">"type"</span>:<span class="hljs-string">"const"</span> } }
    ]
}
</div></code></pre>
<h2 id="how-do-i-use-it">How do I use it? <a class="plnk" href="#how-do-i-use-it">#</a></h2>
<p>You can build an environment yourself.</p>
<p>Here's a minimal example:</p>
<pre><code class="code-line language-html"><div><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>minimal mec2 example<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">'utf-8'</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"c"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"601"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"401"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://gitcdn.xyz/repo/goessner/g2/master/src/g2.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://gitcdn.xyz/repo/goessner/mec2/master/mec2.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
        <span class="hljs-keyword">const</span> ctx = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'c'</span>).getContext(<span class="hljs-string">'2d'</span>);  <span class="hljs-comment">// the canvas-context</span>
        <span class="hljs-keyword">let</span>   g = g2().clr().view({<span class="hljs-attr">cartesian</span>:<span class="hljs-literal">true</span>}).grid(),         <span class="hljs-comment">// a g2 graphics-object</span>
              model = {                                             <span class="hljs-comment">// your model</span>
                id: <span class="hljs-string">'pendulum'</span>,
                <span class="hljs-attr">gravity</span>:<span class="hljs-literal">true</span>,
                <span class="hljs-attr">nodes</span>: [
                    {<span class="hljs-attr">id</span>:<span class="hljs-string">'A0'</span>,<span class="hljs-attr">x</span>:<span class="hljs-number">300</span>,<span class="hljs-attr">y</span>:<span class="hljs-number">240</span>,<span class="hljs-attr">base</span>:<span class="hljs-literal">true</span>},
                    {<span class="hljs-attr">id</span>:<span class="hljs-string">'A1'</span>,<span class="hljs-attr">x</span>:<span class="hljs-number">380</span>,<span class="hljs-attr">y</span>:<span class="hljs-number">300</span>}
                ],
                <span class="hljs-attr">constraints</span>: [
                    { <span class="hljs-attr">id</span>:<span class="hljs-string">'a'</span>,<span class="hljs-attr">p1</span>:<span class="hljs-string">'A0'</span>,<span class="hljs-attr">p2</span>:<span class="hljs-string">'A1'</span>,<span class="hljs-attr">len</span>:{<span class="hljs-attr">type</span>:<span class="hljs-string">'const'</span>} }
                ]
              };

        <span class="hljs-comment">// simulation</span>
        <span class="hljs-keyword">const</span> simulate = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
                  model.tick(<span class="hljs-number">1</span>/<span class="hljs-number">60</span>);                 <span class="hljs-comment">// solve model with fixed stepping</span>
                  g.exe(ctx);                       <span class="hljs-comment">// render its pose on the canvas</span>
                  requestAnimationFrame(simulate);  <span class="hljs-comment">// keep calling back</span>
              };

        mec.model.extend(model);                    <span class="hljs-comment">// extend the model</span>
        model.init();                               <span class="hljs-comment">// initialize it</span>
        model.draw(g);                              <span class="hljs-comment">// append model-graphics to graphics-obj</span>

        simulate();                                 <span class="hljs-comment">// kick-off the simulation</span>
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</div></code></pre>
<p>If you don't want to do that, check out the project <a href="https://github.com/jauhl/mecEdit" title="mecEdit on GitHub"><em>mecEdit</em></a>. <em>mecEdit</em> is a standalone, installable editor for planar mechanisms, that uses <code>mec2</code> as a physics engine and focuses on user experience. It's hosted <a href="https://jauhl.github.io/mecEdit/mecEdit.html" title="mecEdit">here</a>.</p>
<h1 id="license">License <a class="plnk" href="#license">#</a></h1>
<p><em>mec2</em> is licensed under the terms of the MIT License.</p>

    </article>
  </main>
  <footer>
    <span class="left">&copy; goessner</span>
    <span class="center">powered by &mu;Jam &amp; VSCode &mdash; hosted by GitHub</span>
    <span class="right" onclick="document.documentElement.className = document.documentElement.className === 'theme-dark' ? 'theme-light' : 'theme-dark';">&#9788;</span>
  </footer>
  </body>
  </html>